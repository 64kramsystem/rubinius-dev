incomplete:IO.for_fd needs to be reviewed for spec completeness
