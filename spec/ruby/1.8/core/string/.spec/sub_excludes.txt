String#sub with pattern, replacement returns subclass instances when called on a subclass
