require File.dirname(__FILE__) + '/../../spec_helper'
require 'bigdecimal'

describe "BigDecimal#split" do

  before(:each) do
    @arr = BigDecimal("0.314159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593014782083152134043E1").split
    @arr_neg = BigDecimal("-0.314159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593014782083152134043E1").split
  end

  it "splits BigDecimal in an array with four values" do
    @arr.size.should == 4
  end

  it "First value: 1 for numbers > 0" do
    @arr[0].should == 1
  end

  it "First value: -1 for numbers < 0" do
    @arr_neg[0].should == -1
  end

  it "First value: 0 if BigDecimal is NaN" do
    BigDecimal("NaN").split[0].should == 0
  end

  it "Second value: a string with the significant digits" do
    string = "314159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196442881097566593014782083152134043"
    @arr[1].should == string
  end

  it "Third value: the base (currently always ten)" do
   @arr[2].should == 10
  end

  it "Fourth value: The exponent" do
    @arr[2].should == 10
    @arr_neg[2].should == 10
  end

end


