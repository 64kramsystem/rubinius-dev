---
mnemonic: cast_array_for_args
operation: >-

format: cast_array_for_args <arg1>
opcode: 62
stack_before:
  - <consumed>
  - ...
stack_after:
  - <produced>
  - ...
description: >-

source: |-
    next_int;
    c->args = _int;
    t1 = stack_pop();
    if(REFERENCE_P(t1) && object_kind_of_p(state, t1, state->global->tuple)) {
      t1 = array_from_tuple(state, t1);
    } else if(!REFERENCE_P(t1) || !object_kind_of_p(state, t1, state->global->array)) {
      t2 = array_new(state, 1);
      array_set(state, t2, 0, t1);
      t1 = t2;
    }
    stack_push(t1);
    c->args += FIXNUM_TO_INT(array_get_total(t1));
