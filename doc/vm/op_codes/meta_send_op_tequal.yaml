---
mnemonic: meta_send_op_tequal
operation: >-
  Implementation of === (triple equal) optimised for fixnums and symbols
format: meta_send_op_tequal
opcode: 83
stack_before:
  - value1
  - value2
  - ...
stack_after:
  - true | false
  - ...
description: >-
  Pops _value1_ and _value2_ off the stack, and pushes the logical result of
  (_value1_ === _value2_). If _value1_ and _value2_ are both fixnums or both
  symbols, the comparison is done directly; otherwise, the === method is called
  on _value1_, passing _value2_ as the argument.
source: |-
    t1 = stack_pop();
    t2 = stack_back(0);
    /* If both are fixnums, or both are symbols, compare the ops directly. */
    if((FIXNUM_P(t1) && FIXNUM_P(t2)) || (SYMBOL_P(t1) && SYMBOL_P(t2))) {
      stack_set_top((t1 == t2) ? Qtrue : Qfalse);
    } else {
      _lit = global->sym_tequal;
      t2 = Qnil;
      j = 1;
      goto perform_send;
    }
