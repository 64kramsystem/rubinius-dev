---
mnemonic: allocate_stack
operation: >-
  Allocate space for local variables on the stack
format: allocate_stack count
opcode: 97
stack_before:
  - ...
stack_after:
  - nil
  - nil
  - ...
  - nil
  - ...
description: >-
  Allocate _count_ new slots for local variables on the stack. All allocated
  slots will be initialized to the special value @nil@.
notes: >-
  If a local variable is defined in a method and not captured by a block (i.e. 
  a closure), it's space can be allocated on the stack. This is more efficient
  than allocating space in a locals tuple, since the space is reclaimed
  automatically when the current execution context returns.
source: |-
    next_int;
    /* The stack must be initialized to nil because any refers that
       were there are probably bad. */
    for(k = 0; k <= _int; k++) {
      *++c->sp_ptr = Qnil;
    }
