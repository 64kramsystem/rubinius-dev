---
mnemonic: open_metaclass
operation: >-
  Returns the metaclass for an object
format: open_metaclass
opcode: 66
stack_before:
  - obj
  - ...
stack_after:
  - metaclass
  - ...
description: >-
  Pops an object off the stack, obtains it's metaclass (creating it if necessary),
  and pushes it onto the stack.
notes:
  An object metaclass is it's singleton class, i.e. the class that is used to hold
  object specific methods. In Rubinius, any object can call the *metaclass* method to
  obtain its metaclass.
example: |-
  o.metclass   # returns object's metaclass
source: |-
    stack_push(object_metaclass(state, stack_pop()));
