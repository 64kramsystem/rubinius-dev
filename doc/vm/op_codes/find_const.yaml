---
mnemonic: find_const
alias: find
operation: >-
  Finds a constant
format: find_const konst
opcode: 27
stack_before:
  - ns
  - ...
stack_after:
  - const
  - ...
description: >-
  Pops the module or class _ns_ off the stack, and searches within it's 
  namespace for the constant identified by the literal _konst_. If found, it
  is pushed onto the stack; otherwise, the special value @Undefined@ is pushed
  instead.
example: |-
  str = "abc"
  enum = Enumerable::Enumerator(str, :each_byte)
source: |-
    t1 = stack_pop();
    next_int;
    t2 = tuple_at(state, cpu_current_literals(state, c), _int);
    t2 = cpu_const_get_from(state, c, t2, t1);
    if(t2 != Qundef) stack_push(t2);
    c->cache_index = -1;
